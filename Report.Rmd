---
title: "DDS Algorithm"
author: "Dominic Scruton"
date: "22 May 2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Portfolio Theory

The Expected return of a portfolio with k assets is simply the weighted sum of expected returns for each asset and is given by:

$$E[R_p] = \sum_{i = 1}^k{w_ir_i} = \mathbf{w}^T\mathbf{r}$$

where $\mathbf{w}$ is a vector of stock weights and $\mathbf{r}$ is a vector of the expected returns for each stock. Defining these functions in matrix algebra notation emphasizes the use of vectorization within the DDS Algorithm. The variance of the expected return is then:

\begin{align*} 
Var[E[R_p]] &= Var[\mathbf{w}^T\mathbf{r}]\\
&= \mathbf{w}^T Var[\mathbf{r}] \mathbf{w}\\
&= \mathbf{w}^T \Sigma \mathbf{w}
\end{align*}

Generally use simple returns when we have many assets. The portfolios Sharpe Ratio is then given as:

$$Sharpe = \frac{E[R_p] - r_f}{SD[R_p]}$$

The Sharpe ratio specifies the Additional expected return for a given level of risk. A higher Sharpe Ratio suggest a more optimal portfolio. 

## Optimization Problem

One would like to maximize the Sharpe ratio such that the sum of weights in the portfolio equals one. This optimization problem can be expressed as follows:

$$Max \left( \frac{E[r_p] - r_f}{Std[E[r_p]]} \right) s.t. \sum_{i = 1}^{K} w_i = 1$$

Or in vector notation:

$$Max \left( \frac{\mathbf{w^Tr}}{\sqrt{\mathbf{w}^T \mathbf{\Sigma} \mathbf{w}}} \right) s.t. \|\mathbf{w}\| = 1$$

We test and simulate using stock returns from 1 January 2010 to 1 December 2020 inclusive, for Delta Airlines, Walmart and Microsoft stock in a portfolio (could add many more)

## Bibliography

- Harry Markowitz Portfolio Theory
